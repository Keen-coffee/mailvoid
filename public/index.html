<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MailVoid - Temporary Email Generator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content login-modal">
      <div class="login-header">
        <h1>MailVoid</h1>
        <p class="subtitle">Temporary Email Generator</p>
      </div>
      
      <div class="login-form">
        <p class="login-instruction">Enter your 8-digit authentication code to continue</p>
        
        <input 
          type="password" 
          id="authCode" 
          placeholder="• • • • • • • •"
          class="input-field auth-input"
          maxlength="8"
          inputmode="numeric"
        >
        
        <div id="loginError" class="error-message"></div>
        
        <button id="loginBtn" class="btn btn-primary">
          Login
        </button>
      </div>
    </div>
  </div>

  <div class="container" id="mainContainer" style="display: none;">
    <header class="header">
      <div class="header-top">
        <h1>MailVoid</h1>
        <button id="logoutBtn" class="btn btn-logout">Logout</button>
      </div>
      <p class="subtitle">Generate temporary email addresses instantly</p>
    </header>

    <main class="main-content">
      <!-- Generate Email Section -->
      <section class="section generate-section">
        <h2>Generate Temporary Email</h2>
        
        <div class="form-group">
          <label for="personalEmail">Your Personal Email Address:</label>
          <input 
            type="email" 
            id="personalEmail" 
            placeholder="your@email.com"
            class="input-field"
            required
          >
          <small class="helper-text">We'll forward emails from your temp addresses here</small>
        </div>

        <div class="button-group">
          <button id="generateBtn" class="btn btn-primary" disabled>
            Generate Random Email
          </button>
          <button id="manualBtn" class="btn btn-secondary" disabled>
            Create Custom Email
          </button>
        </div>

        <div id="errorMessage" class="error-message"></div>
        <div id="successMessage" class="success-message"></div>
      </section>

      <!-- Manual Email Creation Modal -->
      <div id="manualModal" class="modal" style="display: none;">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Create Custom Temporary Email</h2>
            <button class="close-btn" id="closeManualModal">&times;</button>
          </div>
          
          <div class="form-group">
            <label for="customEmail">Email Address:</label>
            <input 
              type="email" 
              id="customEmail" 
              placeholder="myemail@mailvoid.win"
              class="input-field"
            >
            <small class="helper-text">Must end with @mailvoid.win</small>
          </div>

          <div id="manualError" class="error-message"></div>
          
          <div class="modal-buttons">
            <button id="createManualBtn" class="btn btn-primary">Create Email</button>
            <button id="cancelManualBtn" class="btn btn-secondary">Cancel</button>
          </div>
        </div>
      </div>

      <!-- Generated Email Display -->
      <section id="generatedSection" class="section generated-section hidden">
        <h2>Your Temporary Email</h2>
        
        <div class="email-display">
          <div class="email-label">Temporary Email Address:</div>
          <div class="email-value" id="tempEmailDisplay"></div>
          <button id="copyBtn" class="btn btn-secondary">Copy to Clipboard</button>
        </div>

        <div class="expiry-info">
          <p>Expires in: <span id="expiryTimer"></span></p>
          <div id="expiryBar" class="expiry-bar">
            <div id="expiryProgress" class="expiry-progress"></div>
          </div>
        </div>

        <button id="newEmailBtn" class="btn btn-secondary">Generate Another Email</button>
      </section>

      <!-- Active Emails Section -->
      <section class="section active-section">
        <h2>Active Temporary Emails</h2>
        
        <button id="refreshActiveBtn" class="btn btn-secondary" style="margin-bottom: 20px;">
          Refresh List
        </button>
        
        <div id="activeEmailsList" class="active-emails-list">
          <div class="loading">No active temporary emails. Generate one to get started!</div>
        </div>
      </section>

      <!-- Lookup Section -->
      <section class="section lookup-section">
        <h2>Look Up Email Addresses</h2>
        
        <div class="tabs">
          <button class="tab-btn active" data-tab="lookup-personal">By Personal Email</button>
          <button class="tab-btn" data-tab="lookup-temp">By Temporary Email</button>
        </div>

        <!-- Lookup by Personal Email -->
        <div id="lookup-personal" class="tab-content active">
          <div class="form-group">
            <label for="lookupPersonal">Personal Email:</label>
            <input 
              type="email" 
              id="lookupPersonal" 
              placeholder="your@email.com"
              class="input-field"
            >
          </div>
          <button id="lookupPersonalBtn" class="btn btn-secondary">Find Temporary Emails</button>
          <div id="personalLookupResults" class="lookup-results"></div>
        </div>

        <!-- Lookup by Temporary Email -->
        <div id="lookup-temp" class="tab-content">
          <div class="form-group">
            <label for="lookupTemp">Temporary Email:</label>
            <input 
              type="email" 
              id="lookupTemp" 
              placeholder="adjective.noun1234@mailvoid.win"
              class="input-field"
            >
          </div>
          <button id="lookupTempBtn" class="btn btn-secondary">Find Personal Email</button>
          <div id="tempLookupResults" class="lookup-results"></div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>&copy; 2025 MailVoid. All temporary emails are automatically deleted after 30 minutes.</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
